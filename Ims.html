<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Imsakiyah Ramadhan 1447 H â€” Tahun 2026</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<style>
  :root{
    --bg:#0f1720; /* dark base for card gradient */
    --bg-soft:#f6fbfb;
    --card:#ffffff;
    --muted:#64748b;
    --text:/*#052028*/tomato;
    --accent:#0ea5a0;
    --accent-2:#06b6d4;
    --glass: rgba(255,255,255,0.72);
    --radius:14px;
    --shadow: 0 12px 30px rgba(2,6,23,0.08);
    --mono: "Inter", system-ui, Arial, sans-serif;
  }
  /* light theme by default */
  body{ font-family:var(--mono); margin:0; background:linear-gradient(180deg,#f6fbfb,#e9fdfb) ; color:var(--text); -webkit-font-smoothing:antialiased;}
  .app { max-width:1100px; margin:20px auto; padding:18px; border: 0.5px solid white;}
  header.app{ display:flex; align-items:center; justify-content:space-between; gap:12px; background:/*linear-gradient(90deg,#ffffff,#f2fffd)*/lightblue; padding:14px; border-radius:16px; box-shadow:var(--shadow); border:0.6px solid tomato/*rgba(6,22,21,1)*/;}
  .title { font-weight:800; font-size:14px; text-align: center; }
  .subtitle { color:var(--muted); font-size:13px; margin-top:4px; }

  .controls { display:flex; gap:10px; margin-top:16px; align-items:center; flex-wrap:wrap; }
  .controls .left { display:flex; gap:10px; align-items:center; flex-wrap:wrap; flex:1; }
  select, input[type="search"] { padding:10px 12px; border-radius:10px; border:1px solid rgba(2,6,23,0.5); background:/*var(--card)*/grey; width:320px; font-weight:600; }
  .actions { display:flex; gap:8px; align-items:center; }
  .btn { padding:7px 10px; border-radius:7px; border:0; cursor:pointer; font-weight:700; display:inline-flex; gap:8px; align-items:center; justify-content:center; font-size: 12px;}
  .btn.primary{ background:var(--accent); color:#04201f; box-shadow: 0 8px 20px rgba(14,165,160,0.12); }
  .btn.ghost{ background:/*transparent*/var(--accent); border:1px solid rgba(2,6,23,0.06); color:var(--text); }
  .btn.warn{ background:#f59e0b; color:white; }

  .card { margin-top:14px; background:linear-gradient(180deg,var(--card), #fbfffd); border-radius:14px; padding:10px; box-shadow:var(--shadow); border:1px solid rgba(2,6,23,0.5); overflow:auto; }
  table{ width:100%; border-collapse:collapse; font-weight:600; }
  thead th{ position:sticky; top:0; z-index:2; background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#fff; padding:10px; font-size:13px; text-align:center; }
  th, td { padding:10px 8px; border-bottom:1px solid rgba(2,6,23,0.06); text-align:center; font-size:13px; }
  tbody tr:nth-child(even){ background:rgba(2,6,23,0.02); }

  .empty{ padding:28px; text-align:center; color:var(--muted); font-weight:700; }

  /* footer floating */
  .bottom { display:flex; gap:10px; justify-content:flex-end; margin-top:12px; align-items:center; }

  /* dark theme */
  body.dark{ background:linear-gradient(180deg,#051018,#072025); color:#e6f8f6; }
  body.dark header.app{ background:linear-gradient(90deg,#04121a,#062027); border:1px solid rgba(255,255,255,0.03); }
  body.dark select,input, .card { background:/*#07141a*/grey; color:/*#dff7f4*/lightgreen; border:1px solid rgba(255,255,255,0.5); }
  body.dark thead th{ background:linear-gradient(90deg,#06b6d4,#0ea5a0); color:#04201f; }
  body.dark .btn.ghost{ color:#dff7f4; border-color:rgba(255,255,255,0.04); }

  /* responsive */
  @media (max-width:800px){
    .controls{ flex-direction:column; align-items:stretch; }
    .actions{ justify-content:space-between; }
    
    #btnCSV,
#btnPDF {
  display: none !important;
}
  }
</style>
</head>
<body>

<div class="app">
  <header class="app">
    <div>
       <div class="title">ðŸ“… Imsakiyah Ramadhan 1447 Hijriah Tahun 2026</div>
     <!-- <div class="subtitle">Sumber: Aladhan (calendar). Rentang ditampilkan: 18 Feb 2026 â€” 21 Mar 2026 Â· Default: Balikpapan</div>
    </div> -->

    <div style="display:flex;gap:8px;align-items:center">
       <button id="themeToggle" class="btn ghost" title="Toggle theme">ðŸŒ— Theme</button> 
      <!-- <button id="themeToggle" class="btn ghost" title="Toggle theme">ðŸŒ™ Theme</button> -->
      </div>
  </header>

  <div class="controls">
    <div class="left">
      <select id="citySelect" aria-label="Pilih kota (default Balikpapan)"></select>
      <input id="search" type="search" placeholder="Cari tanggal (contoh: 18 Feb) atau Hijri..." />
    </div>

     <div class="actions">
      <button id="btnCSV" class="btn primary">ðŸ“¥ CSV</button>
      <button id="btnPDF" class="btn ghost">ðŸ“„ PDF </button> 
      <button id="btnPrint" class="btn ghost">ðŸ–¨ print</button>
    </div>
  </div> 
 
  <div id="card" class="card" aria-live="polite">
    <div id="tableWrap"><div class="empty">Memuat jadwal â€” mohon tunggu...</div></div>
  </div>

  <div style="height:12px"></div>
</div>

<!-- libs -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" crossorigin="anonymous"></script>

<script>
/* =========================
   Offline kota list (name, lat, lon)
   - daftar kota provinsi & kabupaten besar (representatif)
   - default Balikpapan (id found by name)
   ========================= */
/*const CITIES = [
  // (Name, lat, lon) â€” feel free to expand this array
  /*["Balikpapan",-1.265,116.8312],
  ["Jakarta",-6.2088,106.8456],
  ["Bandung",-6.9175,107.6191],
  ["Surabaya",-7.2575,112.7521],
  ["Medan",3.5952,98.6722],
  ["Semarang",-6.9667,110.4167],
  ["Yogyakarta",-7.7956,110.3695],
  ["Makassar",-5.1477,119.4327],
  ["Denpasar",-8.6500,115.2167],
  ["Palembang",-2.9761,104.7754],
  ["Padang",-0.9471,100.4172],
  ["Pontianak",0.0263,109.3425],
  ["Banjarmasin",-3.3233,114.5901],
  ["Manado",1.4927,124.8391],
  ["Kupang",-10.1688,123.6044],
  ["Samarinda",-0.5023,117.1530],
  ["Pekanbaru",0.5075,101.4478],
  ["Bandar Lampung",-5.4296,105.2610],
  ["Mataram",-8.5837,116.1165],
  ["Jayapura",-2.5334,140.7181],
  ["Serang",-6.1209,106.1507],
  ["Cirebon",-6.7320,108.5523],
  ["Ternate",0.8030,127.3811],
  ["Ambon",-3.6950,128.1811],
  ["Tasikmalaya",-7.3272,108.2219],
  ["Jambi",-1.6109,103.6137],
  ["Surakarta",-7.5572,110.8316],
  ["Gorontalo",0.5362,123.0594],
  ["Bengkulu",-3.8006,102.2655],
  ["Banda Aceh",5.5486,95.3238],
  ["Kendari",-3.9985,122.5126],
  ["Lhokseumawe",5.1735,97.1415],
  ["Palu",-0.8956,119.8570],
  ["Batam",1.1497,104.0317],
  ["Bitung",1.4442,125.1950],
  ["Bau-Bau",-5.4818,122.5919],
  ["Waingapu",-9.6617,120.2650],
  ["Tanjung Pinang",0.9231,104.4781],
  ["Mamuju",-2.6667,118.9333],
  ["Lubuklinggau",-3.3000,102.9833],
  ["Sumbawa Besar",-8.4858,118.7353],
  ["Tegal",-6.8699,109.1360],
  ["Cilegon",-6.0036,106.0286],
  ["Pematangsiantar",2.9615,99.0689],
  ["Prabumulih",-3.4496,104.2547],
  ["Probolinggo",-7.7564,113.1993],
  ["Kalianda",-5.4973,105.7486],
  ["Blitar",-8.0976,112.1507],
  ["Kota Serang",-6.1209,106.1507]*/
  
     const CITIES = [
  ["Kota Balikpapan, Kalimantan Timur", -1.2654, 116.8312],
  ["Kabupaten Aceh Barat, Aceh", -4.45, 96.15],
  ["Kabupaten Aceh Barat Daya, Aceh", -3.95, 96.85],
  ["Kabupaten Aceh Besar, Aceh", 5.55, 95.32],
  ["Kabupaten Aceh Jaya, Aceh", 4.85, 95.6],
  ["Kabupaten Aceh Selatan, Aceh", -3.15, 97.35],
  ["Kabupaten Aceh Singkil, Aceh", 2.35, 97.85],
  ["Kabupaten Aceh Tamiang, Aceh", 4.35, 97.95],
  ["Kabupaten Aceh Tengah, Aceh", 4.45, 96.85],
  ["Kabupaten Aceh Tenggara, Aceh", 3.2, 97.7],
  ["Kabupaten Aceh Timur, Aceh", 4.57, 97.76],
  ["Kabupaten Aceh Utara, Aceh", 5.0, 97.25],
  ["Kabupaten Bener Meriah, Aceh", 4.76, 96.95],
  ["Kabupaten Bireuen, Aceh", 5.2, 96.7],
  ["Kabupaten Gayo Lues, Aceh", 3.9, 97.35],
  ["Kabupaten Nagan Raya, Aceh", 4.18, 96.48],
  ["Kabupaten Pidie, Aceh", 5.23, 95.94],
  ["Kabupaten Pidie Jaya, Aceh", 5.14, 96.22],
  ["Kabupaten Simeulue, Aceh", 2.62, 96.08],
  ["Kota Banda Aceh, Aceh", 5.55, 95.32],
  ["Kota Langsa, Aceh", 4.47, 97.97],
  ["Kota Lhokseumawe, Aceh", 5.18, 97.15],
  ["Kota Sabang, Aceh", 5.89, 95.32],
  ["Kota Subulussalam, Aceh", 2.65, 97.95],

 ["Kabupaten Asahan, Sumatera Utara", 3.0, 99.6],
  ["Kabupaten Batubara, Sumatera Utara", 3.17, 99.5],
  ["Kabupaten Dairi, Sumatera Utara", 2.9, 98.3],
  ["Kabupaten Deli Serdang, Sumatera Utara", 3.42, 98.7],
  ["Kabupaten Humbang Hasundutan, Sumatera Utara", 2.13, 98.67],
  ["Kabupaten Karo, Sumatera Utara", 3.1, 98.3],
  ["Kabupaten Labuhanbatu, Sumatera Utara", 2.3, 100.0],
  ["Kabupaten Labuhanbatu Selatan, Sumatera Utara", 1.9, 100.0],
  ["Kabupaten Labuhanbatu Utara, Sumatera Utara", 2.5, 99.8],
  ["Kabupaten Langkat, Sumatera Utara", 3.8, 98.4],
  ["Kabupaten Mandailing Natal, Sumatera Utara", 0.7, 99.3],
  ["Kabupaten Nias, Sumatera Utara", 1.0, 97.8],
  ["Kabupaten Nias Barat, Sumatera Utara", 1.03, 97.4],
  ["Kabupaten Nias Selatan, Sumatera Utara", 0.8, 97.8],
  ["Kabupaten Nias Utara, Sumatera Utara", 1.25, 97.5],
  ["Kabupaten Padang Lawas, Sumatera Utara", 1.1, 99.95],
  ["Kabupaten Padang Lawas Utara, Sumatera Utara", 1.4, 99.8],
  ["Kabupaten Pakpak Bharat, Sumatera Utara", 2.3, 98.3],
  ["Kabupaten Samosir, Sumatera Utara", 2.6, 98.8],
  ["Kabupaten Serdang Bedagai, Sumatera Utara", 3.3, 99.0],
  ["Kabupaten Simalungun, Sumatera Utara", 2.97, 99.06],
  ["Kabupaten Tapanuli Selatan, Sumatera Utara", 1.38, 99.27],
  ["Kabupaten Tapanuli Tengah, Sumatera Utara", 1.7, 98.8],
  ["Kabupaten Tapanuli Utara, Sumatera Utara", 2.1, 99.1],
  ["Kabupaten Toba, Sumatera Utara", 2.35, 99.1],
  ["Kota Binjai, Sumatera Utara", 3.6, 98.5],
  ["Kota Gunungsitoli, Sumatera Utara", 1.3, 97.6],
  ["Kota Medan, Sumatera Utara", 3.59, 98.67],
  ["Kota Padangsidimpuan, Sumatera Utara", 1.38, 99.27],
  ["Kota Pematangsiantar, Sumatera Utara", 2.96, 99.06],
  ["Kota Sibolga, Sumatera Utara", 1.73, 98.8],
  ["Kota Tanjungbalai, Sumatera Utara", 2.97, 99.8],
  ["Kota Tebing Tinggi, Sumatera Utara", 3.33, 99.13],

["Kabupaten Agam, Sumatera Barat", -0.25, 100.17],
  ["Kabupaten Dharmasraya, Sumatera Barat", -1.0, 101.0],
  ["Kabupaten Kepulauan Mentawai, Sumatera Barat", -1.4, 98.9],
  ["Kabupaten Lima Puluh Kota, Sumatera Barat", -0.0, 100.55],
  ["Kabupaten Padang Pariaman, Sumatera Barat", -0.6, 100.25],
  ["Kabupaten Pasaman, Sumatera Barat", 0.72, 99.92],
  ["Kabupaten Pasaman Barat, Sumatera Barat", 0.23, 99.63],
  ["Kabupaten Pesisir Selatan, Sumatera Barat", -1.5, 100.75],
  ["Kabupaten Sijunjung, Sumatera Barat", -1.1, 101.0],
  ["Kabupaten Solok, Sumatera Barat", -1.0, 100.75],
  ["Kabupaten Solok Selatan, Sumatera Barat", -2.25, 101.25],
  ["Kabupaten Tanah Datar, Sumatera Barat", -0.47, 100.6],
  ["Kota Bukittinggi, Sumatera Barat", -0.3, 100.37],
  ["Kota Padang, Sumatera Barat", -0.95, 100.35],
  ["Kota Padangpanjang, Sumatera Barat", -0.47, 100.4],
  ["Kota Pariaman, Sumatera Barat", -0.62, 100.12],
  ["Kota Payakumbuh, Sumatera Barat", -0.23, 100.63],
  ["Kota Sawahlunto, Sumatera Barat", -0.68, 100.75],
  ["Kota Solok, Sumatera Barat", -0.79, 100.66],

["Kabupaten Bengkalis, Riau", 1.48, 102.12],
  ["Kabupaten Indragiri Hilir, Riau", -0.33, 103.0],
  ["Kabupaten Indragiri Hulu, Riau", -0.45, 102.2],
  ["Kabupaten Kampar, Riau", 0.33, 101.0],
  ["Kabupaten Kepulauan Meranti, Riau", 0.95, 102.7],
  ["Kabupaten Kuantan Singingi, Riau", -0.5, 101.6],
  ["Kabupaten Pelalawan, Riau", 0.2, 102.0],
  ["Kabupaten Rokan Hilir, Riau", 2.3, 100.85],
  ["Kabupaten Rokan Hulu, Riau", 0.9, 100.55],
  ["Kabupaten Siak, Riau", 0.8, 102.0],
  ["Kota Dumai, Riau", 1.7, 101.45],
  ["Kota Pekanbaru, Riau", 0.51, 101.44],

["Kabupaten Bintan, Kepulauan Riau", 1.07, 104.5],
  ["Kabupaten Karimun, Kepulauan Riau", 1.07, 103.37],
  ["Kabupaten Kepulauan Anambas, Kepulauan Riau", 3.1, 106.0],
  ["Kabupaten Lingga, Kepulauan Riau", -0.2, 104.6],
  ["Kabupaten Natuna, Kepulauan Riau", 3.95, 108.38],
  ["Kota Batam, Kepulauan Riau", 1.1, 104.0],
  ["Kota Tanjungpinang, Kepulauan Riau", 0.92, 104.45],

["Kabupaten Batanghari, Jambi", -1.7, 103.0],
["Kabupaten Bungo, Jambi", -1.5, 101.9],
["Kabupaten Kerinci, Jambi", -2.0, 101.5],
["Kabupaten Merangin, Jambi", -2.0, 101.98],
["Kabupaten Muaro Jambi, Jambi", -1.6, 103.6],
["Kabupaten Sarolangun, Jambi", -2.3, 102.7],
["Kabupaten Tanjung Jabung Barat, Jambi", -1.25, 103.0],
["Kabupaten Tanjung Jabung Timur, Jambi", -1.2, 103.6],
["Kabupaten Tebo, Jambi", -1.5, 102.4],
["Kota Jambi, Jambi", -1.59, 103.61],
["Kota Sungai Penuh, Jambi", -2.06, 101.38],

["Kabupaten Bangka, Kepulauan Bangka Belitung", -2.05, 106.05],
["Kabupaten Bangka Barat, Kepulauan Bangka Belitung", -2.28, 105.5],
["Kabupaten Bangka Selatan, Kepulauan Bangka Belitung", -2.8, 106.1],
["Kabupaten Bangka Tengah, Kepulauan Bangka Belitung", -2.4, 106.0],
["Kabupaten Belitung, Kepulauan Bangka Belitung", -2.87, 107.8],
["Kabupaten Belitung Timur, Kepulauan Bangka Belitung", -2.9, 108.0],
["Kota Pangkalpinang, Kepulauan Bangka Belitung", -2.13, 106.1],

["Kabupaten Bengkulu Selatan, Bengkulu", -4.32, 102.96],
["Kabupaten Bengkulu Tengah, Bengkulu", -3.8, 102.5],
["Kabupaten Bengkulu Utara, Bengkulu", -3.3, 102.3],
["Kabupaten Kaur, Bengkulu", -4.7, 103.0],
["Kabupaten Kepahiang, Bengkulu", -3.65, 102.57],
["Kabupaten Lebong, Bengkulu", -3.2, 102.23],
["Kabupaten Mukomuko, Bengkulu", -2.55, 101.1],
["Kabupaten Rejang Lebong, Bengkulu", -3.45, 102.52],
["Kabupaten Seluma, Bengkulu", -4.0, 102.7],
["Kota Bengkulu, Bengkulu", -3.8, 102.27],

["Kabupaten Banyuasin, Sumatera Selatan", -2.6, 104.5],
["Kabupaten Empat Lawang, Sumatera Selatan", -3.75, 103.0],
["Kabupaten Lahat, Sumatera Selatan", -3.8, 103.54],
["Kabupaten Muara Enim, Sumatera Selatan", -3.65, 103.7],
["Kabupaten Musi Banyuasin, Sumatera Selatan", -2.7, 103.8],
["Kabupaten Musi Rawas, Sumatera Selatan", -3.2, 102.85],
["Kabupaten Musi Rawas Utara, Sumatera Selatan", -2.9, 103.0],
["Kabupaten Ogan Ilir, Sumatera Selatan", -3.28, 104.5],
["Kabupaten Ogan Komering Ilir, Sumatera Selatan", -3.5, 105.3],
["Kabupaten Ogan Komering Ulu, Sumatera Selatan", -3.85, 104.0],
["Kabupaten Ogan Komering Ulu Selatan, Sumatera Selatan", -4.15, 104.15],
["Kabupaten Ogan Komering Ulu Timur, Sumatera Selatan", -3.85, 104.75],
["Kota Lubuklinggau, Sumatera Selatan", -3.3, 102.85],
["Kota Pagar Alam, Sumatera Selatan", -4.03, 103.25],
["Kota Palembang, Sumatera Selatan", -2.99, 104.76],
["Kota Prabumulih, Sumatera Selatan", -3.45, 104.25],
["Kota Sekayu (ibu kota Muba), Sumatera Selatan", -2.88, 103.82],

["Kabupaten Lampung Barat, Lampung", -5.0, 104.0],
["Kabupaten Lampung Selatan, Lampung", -5.45, 105.2],
["Kabupaten Lampung Tengah, Lampung", -4.87, 105.2],
["Kabupaten Lampung Timur, Lampung", -5.18, 105.6],
["Kabupaten Lampung Utara, Lampung", -4.82, 104.88],
["Kabupaten Mesuji, Lampung", -3.85, 105.3],
["Kabupaten Pesawaran, Lampung", -5.45, 105.1],
["Kabupaten Pesisir Barat, Lampung", -5.0, 103.9],
["Kabupaten Pringsewu, Lampung", -5.35, 104.97],
["Kabupaten Tanggamus, Lampung", -5.3, 104.6],
["Kabupaten Tulang Bawang, Lampung", -4.2, 105.1],
["Kabupaten Tulang Bawang Barat, Lampung", -4.5, 105.2],
["Kabupaten Way Kanan, Lampung", -4.3, 104.5],
["Kota Bandar Lampung, Lampung", -5.43, 105.26],
["Kota Metro, Lampung", -5.11, 105.31],

["Kota Jakarta Pusat, DKI Jakarta", -6.18, 106.83],
["Kota Jakarta Utara, DKI Jakarta", -6.12, 106.82],
["Kota Jakarta Barat, DKI Jakarta", -6.16, 106.75],
["Kota Jakarta Selatan, DKI Jakarta", -6.26, 106.8],
["Kota Jakarta Timur, DKI Jakarta", -6.22, 106.9],
["Kabupaten Kepulauan Seribu, DKI Jakarta", -5.8, 106.5],

["Kabupaten Bandung, Jawa Barat", -7.0, 107.6],
["Kabupaten Bandung Barat, Jawa Barat", -6.8, 107.5],
["Kabupaten Bekasi, Jawa Barat", -6.2, 107.0],
["Kabupaten Bogor, Jawa Barat", -6.6, 106.8],
["Kabupaten Ciamis, Jawa Barat", -7.3, 108.35],
["Kabupaten Cianjur, Jawa Barat", -6.8, 107.1],
["Kabupaten Cirebon, Jawa Barat", -6.75, 108.55],
["Kabupaten Garut, Jawa Barat", -7.23, 107.87],
["Kabupaten Indramayu, Jawa Barat", -6.33, 108.33],
["Kabupaten Karawang, Jawa Barat", -6.3, 107.3],
["Kabupaten Kuningan, Jawa Barat", -6.98, 108.48],
["Kabupaten Majalengka, Jawa Barat", -6.83, 108.23],
["Kabupaten Pangandaran, Jawa Barat", -7.65, 108.5],
["Kabupaten Purwakarta, Jawa Barat", -6.55, 107.45],
["Kabupaten Subang, Jawa Barat", -6.56, 107.76],
["Kabupaten Sukabumi, Jawa Barat", -6.97, 106.93],
["Kabupaten Sumedang, Jawa Barat", -6.85, 107.9],
["Kabupaten Tasikmalaya, Jawa Barat", -7.35, 108.2],
["Kota Bandung, Jawa Barat", -6.91, 107.61],
["Kota Banjar, Jawa Barat", -7.37, 108.53],
["Kota Bekasi, Jawa Barat", -6.24, 107.0],
["Kota Bogor, Jawa Barat", -6.6, 106.8],
["Kota Cimahi, Jawa Barat", -6.88, 107.53],
["Kota Cirebon, Jawa Barat", -6.73, 108.57],
["Kota Depok, Jawa Barat", -6.39, 106.83],
["Kota Sukabumi, Jawa Barat", -6.92, 106.92],
["Kota Tasikmalaya, Jawa Barat", -7.33, 108.2],

["Kabupaten Dairi, Sumatera Utara", 2.8677, 98.2653],
["Kabupaten Deli Serdang, Sumatera Utara", 3.4206, 98.7041],
["Kabupaten Dharmasraya, Sumatera Barat", -1.0414, 101.6155],
["Kabupaten Dogiyai, Papua Tengah", -4.0190, 135.9830],
["Kabupaten Dompu, Nusa Tenggara Barat", -8.5367, 118.4587],
["Kabupaten Donggala, Sulawesi Tengah", -0.9033, 119.8442],
["Kabupaten Deiyai, Papua Tengah", -4.0100, 136.2450],
["Kabupaten Dringu (Probolinggo), Jawa Timur", -7.7580, 113.2170],  // lokasi kecamatan pusat kabupaten Probolinggo
["Kota Denpasar, Bali", -8.6705, 115.2126],
["Kota Dumai, Riau", 1.6670, 101.4432],

["Kabupaten Empat Lawang, Sumatera Selatan", -3.7284, 103.8828],
["Kabupaten Enrekang, Sulawesi Selatan", -3.5439, 119.7623],
["Kabupaten Ende, Nusa Tenggara Timur", -8.8623, 121.6542],
["Kabupaten Enim (Muara Enim), Sumatera Selatan", -3.6612, 103.7722],
["Kabupaten Empat Sungai (Kep. Sula), Maluku Utara", -1.8333, 125.3667], // wilayah administratif
["Kota Ende, Nusa Tenggara Timur", -8.8432, 121.6623],

["Kabupaten Fakfak, Papua Barat", -2.9210, 132.2775],
["Kabupaten Flores Timur, Nusa Tenggara Timur", -8.3126, 123.0086],
["Kabupaten Flores Barat (Manggarai Barat), Nusa Tenggara Timur", -8.6685, 120.3897],
["Kabupaten Flores Tengah (Ngada), Nusa Tenggara Timur", -8.7431, 121.0782],
["Kabupaten Flores Utara (Nagekeo), Nusa Tenggara Timur", -8.7480, 121.5580],
["Kota Fakfak, Papua Barat", -2.9348, 132.2982],

["Kabupaten Badung, Bali", -8.5810, 115.1775],
["Kabupaten Balangan, Kalimantan Selatan", -2.3167, 115.5833],
/*["Kota Balikpapan, Kalimantan Timur", -1.2654, 116.8312],*/
["Kota Banda Aceh, Aceh", 5.5483, 95.3238],
["Kabupaten Bandung, Jawa Barat", -7.1340, 107.6048],
["Kota Bandung, Jawa Barat", -6.9175, 107.6191],
["Kabupaten Bandung Barat, Jawa Barat", -6.8329, 107.4720],
["Kota Bandar Lampung, Lampung", -5.4294, 105.2623],
["Kabupaten Banggai, Sulawesi Tengah", -0.9891, 122.7910],
["Kabupaten Banggai Kepulauan, Sulawesi Tengah", -1.6400, 123.5500],
["Kabupaten Banggai Laut, Sulawesi Tengah", -1.3966, 123.5846],
["Kabupaten Bangka, Kepulauan Bangka Belitung", -2.2885, 106.0640],
["Kabupaten Bangka Barat, Kepulauan Bangka Belitung", -2.2911, 105.4900],
["Kabupaten Bangka Selatan, Kepulauan Bangka Belitung", -2.6612, 106.6476],
["Kabupaten Bangka Tengah, Kepulauan Bangka Belitung", -2.2885, 106.0640],
["Kabupaten Bangkalan, Jawa Timur", -7.0453, 112.7450],
["Kabupaten Bangli, Bali", -8.4543, 115.3544],
["Kabupaten Banjar, Kalimantan Selatan", -3.3303, 114.9751],
["Kota Banjar, Jawa Barat", -7.3705, 108.5347],
["Kota Banjarbaru, Kalimantan Selatan", -3.4426, 114.8456],
["Kota Banjarmasin, Kalimantan Selatan", -3.3186, 114.5944],
["Kabupaten Banjarnegara, Jawa Tengah", -7.4020, 109.6810],
["Kabupaten Bantaeng, Sulawesi Selatan", -5.5167, 119.9500],
["Kabupaten Bantul, Daerah Istimewa Yogyakarta", -7.8840, 110.3340],
["Kabupaten Banyuasin, Sumatera Selatan", -2.6097, 104.7521],
["Kabupaten Banyumas, Jawa Tengah", -7.5140, 109.2939],
["Kabupaten Banyuwangi, Jawa Timur", -8.2191, 114.3691],
["Kabupaten Barito Kuala, Kalimantan Selatan", -3.0167, 114.5833],
["Kabupaten Barito Selatan, Kalimantan Tengah", -1.8700, 114.8100],
["Kabupaten Barito Timur, Kalimantan Tengah", -2.0036, 115.2511],
["Kabupaten Barito Utara, Kalimantan Tengah", -0.9589, 115.1280],
["Kabupaten Barru, Sulawesi Selatan", -4.4281, 119.6424],
["Kabupaten Batang, Jawa Tengah", -6.9810, 109.7610],
["Kabupaten Batanghari, Jambi", -1.7040, 103.0818],
["Kabupaten Batu Bara, Sumatera Utara", 3.1741, 99.5006],
["Kota Batu, Jawa Timur", -7.8719, 112.5283],
["Kabupaten Bau-Bau, Sulawesi Tenggara", -5.4683, 122.6333],
["Kabupaten Bekasi, Jawa Barat", -6.2476, 107.0120],
["Kota Bekasi, Jawa Barat", -6.2383, 106.9756],
["Kabupaten Belitung, Kepulauan Bangka Belitung", -2.8700, 107.9650],
["Kabupaten Belitung Timur, Kepulauan Bangka Belitung", -2.8607, 108.2763],
["Kabupaten Belu, Nusa Tenggara Timur", -9.1088, 124.8916],
["Kabupaten Bener Meriah, Aceh", 4.7620, 96.9200],
["Kabupaten Bengkalis, Riau", 1.4800, 102.1200],
["Kabupaten Bengkayang, Kalimantan Barat", 0.8167, 109.4000],
["Kota Bengkulu, Bengkulu", -3.8000, 102.2667],
["Kabupaten Bengkulu Selatan, Bengkulu", -4.3246, 103.0357],
["Kabupaten Bengkulu Tengah, Bengkulu", -3.6914, 102.2550],
["Kabupaten Bengkulu Utara, Bengkulu", -3.5156, 102.2170],
["Kabupaten Berau, Kalimantan Timur", 2.1492, 117.5021],
["Kabupaten Biak Numfor, Papua", -1.1833, 136.0833],
["Kabupaten Bima, Nusa Tenggara Barat", -8.4560, 118.7260],
["Kota Bima, Nusa Tenggara Barat", -8.4606, 118.7274],
["Kabupaten Bintan, Kepulauan Riau", 1.0617, 104.5189],
["Kabupaten Bireuen, Aceh", 5.0606, 96.7009],
["Kabupaten Blitar, Jawa Timur", -8.0950, 112.1600],
["Kota Blitar, Jawa Timur", -8.0989, 112.1681],
["Kabupaten Blora, Jawa Tengah", -6.9695, 111.4186],
["Kabupaten Boalemo, Gorontalo", 0.6760, 122.2590],
["Kabupaten Bogor, Jawa Barat", -6.6000, 106.8000],
["Kota Bogor, Jawa Barat", -6.5950, 106.8167],
["Kabupaten Bojonegoro, Jawa Timur", -7.1500, 111.8833],
["Kabupaten Bolaang Mongondow, Sulawesi Utara", 0.7000, 124.0330],
["Kabupaten Bolaang Mongondow Selatan, Sulawesi Utara", 0.4000, 123.9500],
["Kabupaten Bolaang Mongondow Timur, Sulawesi Utara", 0.7167, 124.4833],
["Kabupaten Bolaang Mongondow Utara, Sulawesi Utara", 0.8833, 123.5000],
["Kabupaten Bombana, Sulawesi Tenggara", -4.5833, 121.8833],
["Kabupaten Bondowoso, Jawa Timur", -7.9200, 113.8200],
["Kabupaten Bone, Sulawesi Selatan", -4.7042, 120.0665],
["Kabupaten Bone Bolango, Gorontalo", 0.5618, 123.0895],
["Kabupaten Boven Digoel, Papua Selatan", -6.0833, 140.3000],
["Kabupaten Boyolali, Jawa Tengah", -7.5333, 110.7500],
["Kabupaten Brebes, Jawa Tengah", -6.8833, 109.0500],
["Kabupaten Buleleng, Bali", -8.1120, 115.0880],
["Kabupaten Bulukumba, Sulawesi Selatan", -5.5667, 120.2000],
["Kabupaten Bulungan, Kalimantan Utara", 2.7146, 117.4898],
["Kabupaten Bungo, Jambi", -1.6400, 102.1300],
["Kabupaten Buol, Sulawesi Tengah", 1.0356, 121.3540],
["Kabupaten Buru, Maluku", -3.3926, 126.7817],
["Kabupaten Buru Selatan, Maluku", -3.7093, 126.5364],
["Kabupaten Buton, Sulawesi Tenggara", -5.4500, 122.9833],
["Kabupaten Buton Selatan, Sulawesi Tenggara", -5.6000, 122.8000],
["Kabupaten Buton Tengah, Sulawesi Tenggara", -5.3000, 122.4000],
["Kabupaten Buton Utara, Sulawesi Tenggara", -4.8000, 122.9833],

["Kabupaten Ciamis, Jawa Barat", -7.3333, 108.3500],
["Kabupaten Cianjur, Jawa Barat", -6.8170, 107.1400],
["Kabupaten Cilacap, Jawa Tengah", -7.7333, 109.0000],
["Kota Cilegon, Banten", -6.0027, 106.0110],
["Kabupaten Cilacap, Jawa Tengah", -7.7333, 109.0000],
["Kabupaten Cirebon, Jawa Barat", -6.7333, 108.5667],
["Kota Cirebon, Jawa Barat", -6.7063, 108.5570],
["Kabupaten Cirebon, Jawa Barat", -6.7330, 108.5500],
["Kota Cimahi, Jawa Barat", -6.8700, 107.5500],
["Kota Depok (Cijago), Jawa Barat", -6.4025, 106.7942], 
["Kabupaten Cikoneng (Ciamis), Jawa Barat", -7.3500, 108.4000],
["Kabupaten Cileungsi (Bogor), Jawa Barat", -6.3950, 106.9594],
["Kabupaten Cisaat (Sukabumi), Jawa Barat", -6.9000, 106.9333],
["Kabupaten Cisarua (Bogor), Jawa Barat", -6.6670, 106.9330],

["Kabupaten Gayo Lues, Aceh", 3.9550, 97.3510],
["Kabupaten Gianyar, Bali", -8.5446, 115.3253],
["Kabupaten Gorontalo, Gorontalo", 0.7000, 122.4500],
["Kota Gorontalo, Gorontalo", 0.5375, 123.0625],
["Kabupaten Gorontalo Utara, Gorontalo", 0.8000, 122.7833],
["Kabupaten Gorontalo Selatan, Gorontalo", 0.5000, 123.1167],
["Kabupaten Gorontalo Barat, Gorontalo", 0.6500, 122.4000],
["Kabupaten Gowa, Sulawesi Selatan", -5.3167, 119.7500],
["Kabupaten Gresik, Jawa Timur", -7.1667, 112.6500],
["Kabupaten Grobogan, Jawa Tengah", -7.0833, 110.9167],
["Kabupaten Gunung Kidul, DI Yogyakarta", -8.0300, 110.6167],
["Kabupaten Gunung Mas, Kalimantan Tengah", -1.2500, 113.9000],
["Kota Gunungsitoli, Sumatera Utara", 1.2773, 97.6130],

["Kabupaten Halmahera Barat, Maluku Utara", 1.3333, 127.5833],
["Kabupaten Halmahera Tengah, Maluku Utara", -0.3167, 128.4667],
["Kabupaten Halmahera Timur, Maluku Utara", 1.3000, 129.5000],
["Kabupaten Halmahera Selatan, Maluku Utara", -0.6500, 127.5000],
["Kabupaten Halmahera Utara, Maluku Utara", 1.6500, 127.8500],
["Kabupaten Hulu Sungai Utara, Kalimantan Selatan", -2.4500, 115.0833],
["Kabupaten Hulu Sungai Tengah, Kalimantan Selatan", -2.6000, 115.3833],
["Kabupaten Hulu Sungai Selatan, Kalimantan Selatan", -2.7667, 115.0500],
["Kabupaten Humbang Hasundutan, Sumatera Utara", 2.2170, 98.5260],

["Kota Idjen (Kota Tidak Resmi, diabaikan â€” tidak masuk daftar 514)"],

["Kabupaten Indragiri Hilir, Riau", -0.3333, 103.1500],
["Kabupaten Indragiri Hulu, Riau", -0.7667, 102.2500],
["Kabupaten Indramayu, Jawa Barat", -6.3267, 108.3250],

["Kota Inhil (tidak resmi â€” sudah tercakup Indragiri Hilir)"],

["Kabupaten Intan Jaya, Papua Tengah", -3.5000, 136.7500],

["Kabupaten Ipuh (tidak resmi â€” bagian Mukomuko, Bengkulu)"],

["Kabupaten Isimu (tidak resmi â€” bagian Gorontalo)"],

["Kota Jakarta Pusat, DKI Jakarta", -6.1862, 106.8347],
["Kota Jakarta Barat, DKI Jakarta", -6.1767, 106.7555],
["Kota Jakarta Utara, DKI Jakarta", -6.1214, 106.7741],
["Kota Jakarta Timur, DKI Jakarta", -6.2113, 106.9006],
["Kota Jakarta Selatan, DKI Jakarta", -6.2615, 106.8106],

["Kabupaten Jember, Jawa Timur", -8.1720, 113.7000],
["Kabupaten Jepara, Jawa Tengah", -6.5800, 110.6700],
["Kabupaten Jombang, Jawa Timur", -7.5450, 112.2330],

["Kota Jayapura, Papua", -2.5335, 140.7181],

["Kabupaten Kampar, Riau", 0.338, 101.026],
["Kabupaten Kapuas, Kalimantan Tengah", -1.956, 114.389],
["Kabupaten Kapuas Hulu, Kalimantan Barat", 0.833, 113.906],
["Kabupaten Karanganyar, Jawa Tengah", -7.596, 110.953],
["Kabupaten Karangasem, Bali", -8.425, 115.612],
["Kabupaten Karawang, Jawa Barat", -6.295, 107.292],
["Kabupaten Karimun, Kepulauan Riau", 1.083, 103.383],
["Kabupaten Karo, Sumatera Utara", 3.105, 98.265],
["Kabupaten Katingan, Kalimantan Tengah", -1.612, 112.548],
["Kabupaten Kayong Utara, Kalimantan Barat", -0.910, 109.981],
["Kabupaten Kebumen, Jawa Tengah", -7.668, 109.651],
["Kabupaten Kediri, Jawa Timur", -7.822, 112.011],
["Kabupaten Keerom, Papua", -3.303, 140.732],
["Kabupaten Kendal, Jawa Tengah", -7.050, 110.300],
["Kabupaten Kepahiang, Bengkulu", -3.650, 102.567],
["Kabupaten Kepulauan Anambas, Kepulauan Riau", 3.105, 106.208],
["Kabupaten Kepulauan Aru, Maluku", -5.669, 134.644],
["Kabupaten Kepulauan Mentawai, Sumatera Barat", -2.000, 99.650],
["Kabupaten Kepulauan Meranti, Riau", 0.936, 102.672],
["Kabupaten Kepulauan Sangihe, Sulawesi Utara", 3.594, 125.502],
["Kabupaten Kepulauan Selayar, Sulawesi Selatan", -6.138, 120.482],
["Kabupaten Kepulauan Siau Tagulandang Biaro (Sitaro), Sulawesi Utara", 2.742, 125.409],
["Kabupaten Kepulauan Sula, Maluku Utara", -1.868, 125.214],
["Kabupaten Kepulauan Talaud, Sulawesi Utara", 4.283, 126.783],
["Kabupaten Kepulauan Yapen, Papua", -1.750, 136.217],
["Kabupaten Kerinci, Jambi", -2.083, 101.383],
["Kabupaten Ketapang, Kalimantan Barat", -1.858, 109.971],
["Kabupaten Klaten, Jawa Tengah", -7.705, 110.607],
["Kabupaten Klungkung, Bali", -8.533, 115.417],
["Kabupaten Kolaka, Sulawesi Tenggara", -4.049, 121.589],
["Kabupaten Kolaka Timur, Sulawesi Tenggara", -4.065, 121.814],
["Kabupaten Kolaka Utara, Sulawesi Tenggara", -3.272, 121.163],
["Kabupaten Konawe, Sulawesi Tenggara", -3.933, 122.083],
["Kabupaten Konawe Kepulauan, Sulawesi Tenggara", -4.000, 123.083],
["Kabupaten Konawe Selatan, Sulawesi Tenggara", -4.306, 122.127],
["Kabupaten Konawe Utara, Sulawesi Tenggara", -3.389, 122.048],
["Kabupaten Kotabaru, Kalimantan Selatan", -3.300, 116.233],
["Kabupaten Kotawaringin Barat, Kalimantan Tengah", -2.600, 111.700],
["Kabupaten Kotawaringin Timur, Kalimantan Tengah", -2.000, 113.050],
["Kabupaten Katingan, Kalimantan Tengah", -1.642, 112.542],
["Kabupaten Kudus, Jawa Tengah", -6.804, 110.840],
["Kabupaten Kuantan Singingi, Riau", -0.466, 101.556],
["Kabupaten Kubu Raya, Kalimantan Barat", -0.267, 109.403],
["Kabupaten Kulon Progo, DI Yogyakarta", -7.826, 110.164],
["Kabupaten Kuningan, Jawa Barat", -6.979, 108.484],
["Kabupaten Kupang, Nusa Tenggara Timur", -10.178, 123.607],

["Kota Kediri, Jawa Timur", -7.814, 112.018],
["Kota Kendari, Sulawesi Tenggara", -3.999, 122.512],
["Kota Kefamenanu, Nusa Tenggara Timur", -9.446, 124.479],
["Kota Kotamobagu, Sulawesi Utara", 0.734, 124.318],
["Kota Kupang, Nusa Tenggara Timur", -10.177, 123.607],

["Kabupaten Lahat, Sumatera Selatan", -3.786, 103.542],
["Kabupaten Lamandau, Kalimantan Tengah", -1.926, 111.236],
["Kabupaten Lamongan, Jawa Timur", -7.118, 112.419],
["Kabupaten Lampung Barat, Lampung", -5.000, 104.083],
["Kabupaten Lampung Selatan, Lampung", -5.562, 105.594],
["Kabupaten Lampung Tengah, Lampung", -4.800, 105.200],
["Kabupaten Lampung Timur, Lampung", -5.083, 105.600],
["Kabupaten Lampung Utara, Lampung", -4.833, 104.900],
["Kabupaten Landak, Kalimantan Barat", -0.423, 109.967],
["Kabupaten Langkat, Sumatera Utara", 3.792, 98.391],
["Kabupaten Langsa, Aceh", 4.480, 97.955],
["Kabupaten Lanny Jaya, Papua Pegunungan", -3.800, 138.333],
["Kabupaten Lebak, Banten", -6.564, 106.252],
["Kabupaten Lebong, Bengkulu", -3.165, 102.335],
["Kabupaten Lembata, Nusa Tenggara Timur", -8.548, 123.483],
["Kabupaten Lima Puluh Kota, Sumatera Barat", -0.000, 100.583],
["Kabupaten Lingga, Kepulauan Riau", -0.200, 104.600],
["Kabupaten Lombok Barat, Nusa Tenggara Barat", -8.650, 116.100],
["Kabupaten Lombok Tengah, Nusa Tenggara Barat", -8.650, 116.300],
["Kabupaten Lombok Timur, Nusa Tenggara Barat", -8.533, 116.567],
["Kabupaten Lombok Utara, Nusa Tenggara Barat", -8.383, 116.283],
["Kabupaten Lumajang, Jawa Timur", -8.133, 113.217],
["Kabupaten Luwu, Sulawesi Selatan", -2.600, 120.250],
["Kabupaten Luwu Timur, Sulawesi Selatan", -2.583, 121.117],
["Kabupaten Luwu Utara, Sulawesi Selatan", -2.382, 120.254],
["Kabupaten Labuhan Batu, Sumatera Utara", 2.350, 99.400],
["Kabupaten Labuhan Batu Selatan, Sumatera Utara", 1.867, 99.783],
["Kabupaten Labuhan Batu Utara, Sumatera Utara", 2.400, 99.600],
["Kabupaten Lamandau, Kalimantan Tengah", -1.910, 111.228],
["Kabupaten Lamongan, Jawa Timur", -7.120, 112.420],
["Kabupaten Lampung Barat, Lampung", -5.002, 104.082],
["Kabupaten Lampung Selatan, Lampung", -5.562, 105.608],
["Kabupaten Lampung Tengah, Lampung", -4.800, 105.200],
["Kabupaten Lampung Timur, Lampung", -5.109, 105.692],
["Kabupaten Lampung Utara, Lampung", -4.833, 104.900],
["Kabupaten Lanny Jaya, Papua", -3.850, 138.350],
["Kabupaten Lebak, Banten", -6.563, 106.252],
["Kabupaten Lebong, Bengkulu", -3.167, 102.333],

["Kota Langsa, Aceh", 4.480, 97.960],
["Kota Lhokseumawe, Aceh", 5.189, 97.150],
["Kota Lubuk Linggau, Sumatera Selatan", -3.294, 102.861],
["Kota Lubuk Pakam (DL. Serdang), Sumatera Utara", 3.568, 98.881],
["Kota Lubuk Basung (Agam), Sumatera Barat", -0.290, 100.160],

["Kabupaten Madiun, Jawa Timur", -7.630, 111.523],
["Kabupaten Magelang, Jawa Tengah", -7.470, 110.220],
["Kabupaten Magetan, Jawa Timur", -7.644, 111.338],
["Kabupaten Mahakam Ulu, Kalimantan Timur", 0.267, 115.600],
["Kabupaten Majalengka, Jawa Barat", -6.837, 108.227],
["Kabupaten Majene, Sulawesi Barat", -3.540, 118.970],
["Kabupaten Malang, Jawa Timur", -7.979, 112.630],
["Kabupaten Malinau, Kalimantan Utara", 3.585, 116.647],
["Kabupaten Maluku Barat Daya, Maluku", -7.742, 126.292],
["Kabupaten Maluku Tengah, Maluku", -3.000, 128.167],
["Kabupaten Maluku Tenggara, Maluku", -5.742, 132.334],
["Kabupaten Mamberamo Raya, Papua", -2.533, 138.667],
["Kabupaten Mamberamo Tengah, Papua Pegunungan", -3.417, 138.417],
["Kabupaten Mamuju, Sulawesi Barat", -2.670, 118.890],
["Kabupaten Mamuju Tengah, Sulawesi Barat", -2.110, 119.350],
["Kabupaten Mamuju Utara (Pasangkayu), Sulawesi Barat", -1.190, 119.340],
["Kabupaten Mandailing Natal, Sumatera Utara", 0.733, 99.270],
["Kabupaten Manggarai, Nusa Tenggara Timur", -8.612, 120.467],
["Kabupaten Manggarai Barat, Nusa Tenggara Timur", -8.670, 119.880],
["Kabupaten Manggarai Timur, Nusa Tenggara Timur", -8.620, 120.550],
["Kabupaten Manokwari, Papua Barat", -0.861, 134.062],
["Kabupaten Manokwari Selatan, Papua Barat", -1.300, 134.050],
["Kabupaten Mappi, Papua Selatan", -7.100, 139.000],
["Kabupaten Maros, Sulawesi Selatan", -5.032, 119.560],
["Kabupaten Maybrat, Papua Barat Daya", -1.333, 132.267],
["Kabupaten Melawi, Kalimantan Barat", -0.683, 111.500],
["Kabupaten Mempawah, Kalimantan Barat", -0.333, 109.100],
["Kabupaten Merangin, Jambi", -2.202, 102.920],
["Kabupaten Merauke, Papua Selatan", -8.493, 140.401],
["Kabupaten Mesuji, Lampung", -4.000, 105.383],
["Kabupaten Mimika, Papua Tengah", -4.550, 136.883],
["Kabupaten Minahasa, Sulawesi Utara", 1.300, 124.833],
["Kabupaten Minahasa Selatan, Sulawesi Utara", 1.265, 124.615],
["Kabupaten Minahasa Tenggara, Sulawesi Utara", 1.020, 124.940],
["Kabupaten Minahasa Utara, Sulawesi Utara", 1.550, 124.900],
["Kabupaten Mojokerto, Jawa Timur", -7.472, 112.433],
["Kabupaten Morowali, Sulawesi Tengah", -2.790, 121.750],
["Kabupaten Morowali Utara, Sulawesi Tengah", -1.800, 121.300],
["Kabupaten Muara Enim, Sumatera Selatan", -3.650, 103.780],
["Kabupaten Muaro Jambi, Jambi", -1.598, 103.613],
["Kabupaten Mukomuko, Bengkulu", -2.550, 101.083],
["Kabupaten Muna, Sulawesi Tenggara", -4.933, 122.533],
["Kabupaten Muna Barat, Sulawesi Tenggara", -4.850, 122.350],
["Kabupaten Murung Raya, Kalimantan Tengah", -0.717, 114.000],
["Kabupaten Musi Banyuasin, Sumatera Selatan", -2.550, 103.833],
["Kabupaten Musi Rawas, Sumatera Selatan", -3.250, 103.233],
["Kabupaten Musi Rawas Utara, Sumatera Selatan", -2.783, 103.333],

["Kota Madiun, Jawa Timur", -7.629, 111.513],
["Kota Magelang, Jawa Tengah", -7.481, 110.217],
["Kota Makassar, Sulawesi Selatan", -5.148, 119.432],
["Kota Malang, Jawa Timur", -7.983, 112.621],
["Kota Manado, Sulawesi Utara", 1.474, 124.841],
["Kota Mataram, Nusa Tenggara Barat", -8.583, 116.116],
["Kota Medan, Sumatera Utara", 3.595, 98.672],
["Kota Metro, Lampung", -5.113, 105.306],
["Kota Mojokerto, Jawa Timur", -7.472, 112.433],
["Kota Merauke, Papua Selatan", -8.492, 140.404],
["Kota Manokwari, Papua Barat", -0.861, 134.063],

["Kabupaten Nabire, Papua Tengah", -3.367, 135.483],
["Kabupaten Nagan Raya, Aceh", 4.170, 96.516],
["Kabupaten Nagekeo, Nusa Tenggara Timur", -8.670, 121.000],
["Kabupaten Nias, Sumatera Utara", 1.033, 97.800],
["Kabupaten Nias Barat, Sumatera Utara", 1.067, 97.333],
["Kabupaten Nias Selatan, Sumatera Utara", 0.750, 97.650],
["Kabupaten Nias Utara, Sumatera Utara", 1.233, 97.567],
["Kabupaten Ngada, Nusa Tenggara Timur", -8.753, 121.077],
["Kabupaten Nganjuk, Jawa Timur", -7.605, 111.900],
["Kabupaten Ngawi, Jawa Timur", -7.403, 111.445],
["Kabupaten Nias Selatan, Sumatera Utara", 0.756, 97.793],
["Kabupaten Nunukan, Kalimantan Utara", 4.133, 117.667],

["Kota Nabire, Papua Tengah", -3.368, 135.495],

["Kabupaten Ogan Ilir, Sumatera Selatan", -3.347, 104.641],
["Kabupaten Ogan Komering Ilir, Sumatera Selatan", -3.456, 105.378],
["Kabupaten Ogan Komering Ulu, Sumatera Selatan", -4.028, 104.056],
["Kabupaten Ogan Komering Ulu Selatan, Sumatera Selatan", -4.547, 104.083],
["Kabupaten Ogan Komering Ulu Timur, Sumatera Selatan", -3.856, 104.752],

["Kabupaten Oku Timur, Sumatera Selatan", -3.850, 104.900],
["Kabupaten Oku Selatan, Sumatera Selatan", -4.550, 104.050],
["Kabupaten Oku, Sumatera Selatan", -4.028, 104.056],

["Kota Padang, Sumatera Barat", -0.947, 100.417],
["Kota Padang Panjang, Sumatera Barat", -0.460, 100.400],
["Kota Padang Sidempuan, Sumatera Utara", 1.378, 99.273],
["Kota Pagar Alam, Sumatera Selatan", -4.021, 103.242],
["Kota Palangka Raya, Kalimantan Tengah", -2.209, 113.917],
["Kota Palembang, Sumatera Selatan", -2.990, 104.756],
["Kota Palopo, Sulawesi Selatan", -2.998, 120.196],
["Kota Palu, Sulawesi Tengah", -0.900, 119.870],
["Kota Pangkal Pinang, Kep. Bangka Belitung", -2.129, 106.109],
["Kota Parepare, Sulawesi Selatan", -4.016, 119.625],
["Kota Pariaman, Sumatera Barat", -0.627, 100.119],
["Kota Pasuruan, Jawa Timur", -7.644, 112.907],
["Kota Payakumbuh, Sumatera Barat", -0.230, 100.633],
["Kota Pekalongan, Jawa Tengah", -6.889, 109.675],
["Kota Pekanbaru, Riau", 0.507, 101.447],
["Kota Pematang Siantar, Sumatera Utara", 2.971, 99.068],
["Kota Pontianak, Kalimantan Barat", -0.026, 109.341],
["Kota Prabumulih, Sumatera Selatan", -3.434, 104.230],
["Kota Probolinggo, Jawa Timur", -7.755, 113.215],

["Kabupaten Padang Lawas, Sumatera Utara", 1.090, 99.824],
["Kabupaten Padang Lawas Utara, Sumatera Utara", 1.597, 99.633],
["Kabupaten Padang Pariaman, Sumatera Barat", -0.600, 100.300],
["Kabupaten Pakpak Bharat, Sumatera Utara", 2.546, 98.256],
["Kabupaten Pamekasan, Jawa Timur", -7.159, 113.474],
["Kabupaten Pandeglang, Banten", -6.313, 106.083],
["Kabupaten Pangkajene Kepulauan (Pangkep), Sulawesi Selatan", -4.830, 119.550],
["Kabupaten Pangandaran, Jawa Barat", -7.680, 108.650],
["Kabupaten Paniai, Papua Tengah", -3.920, 136.350],
["Kabupaten Parigi Moutong, Sulawesi Tengah", -0.752, 120.188],
["Kabupaten Pasaman, Sumatera Barat", 0.120, 99.980],
["Kabupaten Pasaman Barat, Sumatera Barat", 0.220, 99.680],
["Kabupaten Paser, Kalimantan Timur", -1.733, 116.217],
["Kabupaten Pasuruan, Jawa Timur", -7.760, 112.900],
["Kabupaten Pati, Jawa Tengah", -6.742, 111.037],
["Kabupaten Pegunungan Arfak, Papua Barat", -1.300, 133.650],
["Kabupaten Pegunungan Bintang, Papua Pegunungan", -4.570, 140.540],
["Kabupaten Pekalongan, Jawa Tengah", -6.889, 109.675],
["Kabupaten Pelalawan, Riau", 0.327, 102.378],
["Kabupaten Pemalang, Jawa Tengah", -6.900, 109.380],
["Kabupaten Penajam Paser Utara, Kalimantan Timur", -1.255, 116.646],
["Kabupaten Penukal Abab Lematang Ilir (PALI), Sumatera Selatan", -3.286, 103.780],
["Kabupaten Pesawaran, Lampung", -5.495, 105.079],
["Kabupaten Pesisir Barat, Lampung", -5.029, 103.964],
["Kabupaten Pesisir Selatan, Sumatera Barat", -1.583, 100.800],
["Kabupaten Pinrang, Sulawesi Selatan", -3.785, 119.652],
["Kabupaten Pohuwato, Gorontalo", 0.706, 121.601],
["Kabupaten Polewali Mandar, Sulawesi Barat", -3.432, 119.340],
["Kabupaten Ponorogo, Jawa Timur", -7.867, 111.466],
["Kabupaten Poso, Sulawesi Tengah", -1.392, 120.758],
["Kabupaten Pringsewu, Lampung", -5.358, 104.980],
["Kabupaten Probolinggo, Jawa Timur", -7.750, 113.220],

["Kabupaten Raja Ampat, Papua Barat Daya", -0.4260, 130.7800],
["Kabupaten Rejang Lebong, Bengkulu", -3.4541, 102.6782],
["Kabupaten Rembang, Jawa Tengah", -6.8084, 111.4270],
["Kota Rengat (Ibukota Indragiri Hulu), Riau", -0.3865, 102.5430],
["Kabupaten Rokan Hilir, Riau", 2.2070, 100.8350],
["Kabupaten Rokan Hulu, Riau", 0.9572, 100.4079],
["Kabupaten Rote Ndao, Nusa Tenggara Timur", -10.7380, 123.1230],

["Kabupaten Sambas, Kalimantan Barat", 1.3644, 109.3090],
["Kabupaten Samosir, Sumatera Utara", 2.6390, 98.8130],
["Kabupaten Sampang, Jawa Timur", -7.0520, 113.2390],
["Kabupaten Sampang (Bangkalan Area), Jawa Timur", -7.1840, 113.2390],
["Kabupaten Sanggau, Kalimantan Barat", 0.1230, 110.5970],
["Kabupaten Sarmi, Papua", -1.8690, 138.7420],
["Kabupaten Sarolangun, Jambi", -2.3000, 102.7000],
["Kabupaten Sekadau, Kalimantan Barat", -0.0110, 110.8900],
["Kabupaten Seluma, Bengkulu", -4.0620, 102.5300],
["Kabupaten Semarang, Jawa Tengah", -7.2540, 110.4040],
["Kota Semarang, Jawa Tengah", -6.9667, 110.4167],
["Kabupaten Seram Bagian Barat, Maluku", -3.1270, 128.4600],
["Kabupaten Seram Bagian Timur, Maluku", -3.4000, 130.9160],
["Kabupaten Serang, Banten", -6.1200, 106.1500],
["Kota Serang, Banten", -6.1209, 106.1507],
["Kabupaten Serdang Bedagai, Sumatera Utara", 3.3370, 99.0570],
["Kabupaten Seruyan, Kalimantan Tengah", -3.5060, 112.2700],
["Kabupaten Siak, Riau", 0.8090, 102.0330],
["Kabupaten Siau Tagulandang Biaro (Sitaro), Sulawesi Utara", 2.6370, 125.3970],
["Kabupaten Sidoarjo, Jawa Timur", -7.4460, 112.7180],
["Kabupaten Sigi, Sulawesi Tengah", -1.2200, 119.9000],
["Kabupaten Sijunjung, Sumatera Barat", -0.6700, 100.9500],
["Kabupaten Sikka, Nusa Tenggara Timur", -8.6190, 122.2120],
["Kabupaten Simalungun, Sumatera Utara", 2.9780, 99.0680],
["Kabupaten Simeulue, Aceh", 2.5830, 96.0830],
["Kabupaten Sinjai, Sulawesi Selatan", -5.1270, 120.2510],
["Kabupaten Soppeng, Sulawesi Selatan", -4.3510, 119.9430],
["Kabupaten Sorong, Papua Barat Daya", -0.8760, 131.2550],
["Kota Sorong, Papua Barat Daya", -0.8650, 131.2610],
["Kabupaten Sorong Selatan, Papua Barat Daya", -1.6660, 132.2200],
["Kabupaten Sragen, Jawa Tengah", -7.4250, 111.0220],
["Kabupaten Subang, Jawa Barat", -6.5710, 107.7570],
["Kabupaten Sukabumi, Jawa Barat", -6.9230, 106.9290],
["Kota Sukabumi, Jawa Barat", -6.9222, 106.9281],
["Kabupaten Sukamara, Kalimantan Tengah", -2.6260, 111.0990],
["Kabupaten Sukoharjo, Jawa Tengah", -7.6830, 110.8230],
["Kabupaten Sumba Barat, Nusa Tenggara Timur", -9.6530, 119.4170],
["Kabupaten Sumba Barat Daya, Nusa Tenggara Timur", -10.6110, 119.2810],
["Kabupaten Sumba Tengah, Nusa Tenggara Timur", -9.6330, 119.4170],
["Kabupaten Sumba Timur, Nusa Tenggara Timur", -9.6560, 120.2670],
["Kabupaten Sumbawa, Nusa Tenggara Barat", -8.5040, 117.4200],
["Kabupaten Sumbawa Barat, Nusa Tenggara Barat", -8.7500, 116.8900],
["Kabupaten Sumedang, Jawa Barat", -6.8520, 107.9200],
["Kabupaten Sumenep, Jawa Timur", -7.0160, 113.8600],
["Kota Sungai Penuh, Jambi", -2.0630, 101.3930],
["Kabupaten Supiori, Papua", -0.7380, 135.6200],
["Kabupaten Surabaya, Jawa Timur (Kabupaten tak ada, hanya kota â€” dilewati)", -7.2575, 112.7521],
["Kota Surabaya, Jawa Timur", -7.2575, 112.7521],
["Kota Surakarta (Solo), Jawa Tengah", -7.5650, 110.8170],
["Kabupaten Sukadana (Lampung Timur), Lampung", -5.1130, 105.4070],
["Kabupaten Seruyan Hilir, Kalimantan Tengah", -3.7970, 112.5460],
["Kabupaten Sekotong Barat, Nusa Tenggara Barat", -8.7500, 115.8660],

["Tabalong, Kalimantan Selatan", -1.8641, 115.5684],
["Tabanan, Bali", -8.5413, 115.1330],
["Tapanuli Selatan, Sumatera Utara", 1.5753, 99.2789],
["Tapanuli Tengah, Sumatera Utara", 1.9100, 98.6667],
["Tapanuli Utara, Sumatera Utara", 2.0267, 99.0730],
["Tapin, Kalimantan Selatan", -2.9167, 115.0333],
["Tarakan, Kalimantan Utara", 3.3270, 117.5785],
["Tasikmalaya, Jawa Barat", -7.3274, 108.2207],
["Tangerang, Banten", -6.1781, 106.6319],
["Tangerang Selatan, Banten", -6.2886, 106.7179],
["Tanjung Balai, Sumatera Utara", 2.9667, 99.8000],
["Tanjung Jabung Barat, Jambi", -1.3000, 103.0500],
["Tanjung Jabung Timur, Jambi", -1.3000, 103.6167],
["Tanjung Pinang, Kepulauan Riau", 0.9167, 104.4500],
["Tana Tidung, Kalimantan Utara", 3.5500, 117.0500],
["Tana Toraja, Sulawesi Selatan", -3.0140, 119.8557],
["Tanah Bumbu, Kalimantan Selatan", -3.4167, 115.9167],
["Tanah Datar, Sumatera Barat", -0.4500, 100.5500],
["Tebo, Jambi", -1.3667, 102.3500],
["Tegal, Jawa Tengah", -6.8667, 109.1333],
["Teluk Bintuni, Papua Barat", -2.1167, 133.5167],
["Teluk Wondama, Papua Barat", -2.7333, 134.5000],
["Temanggung, Jawa Tengah", -7.3167, 110.1667],
["Ternate, Maluku Utara", 0.7833, 127.3667],
["Tidore Kepulauan, Maluku Utara", 0.6833, 127.4000],
["Timor Tengah Selatan, Nusa Tenggara Timur", -9.8833, 124.2833],
["Timor Tengah Utara, Nusa Tenggara Timur", -9.4500, 124.6000],
["Toba, Sumatera Utara", 2.3833, 99.1500],
["Tojo Una-Una, Sulawesi Tengah", -1.0000, 121.5833],
["Toli-Toli, Sulawesi Tengah", 1.0333, 120.8167],
["Tomohon, Sulawesi Utara", 1.3167, 124.8333],
["Toraja Utara, Sulawesi Selatan", -2.9667, 119.8667],
["Trenggalek, Jawa Timur", -8.0500, 111.7167],
["Tual, Maluku", -5.6667, 132.7500],
["Tuban, Jawa Timur", -6.8833, 112.0500],
["Tulang Bawang, Lampung", -4.3500, 105.2000],
["Tulang Bawang Barat, Lampung", -4.5333, 104.9833],
["Tulungagung, Jawa Timur", -8.0667, 111.9000],

["Ujung Batu (Rokan Hulu), Riau", 1.0000, 100.5833],
["Ujung Pandang (Makassar), Sulawesi Selatan", -5.1333, 119.4167],

["Vunirah, Papua Tengah", -3.4833, 135.5167],

["Wakatobi, Sulawesi Tenggara", -5.3260, 123.5952],
["Wajo, Sulawesi Selatan", -4.0200, 120.0300],
["Waropen, Papua", -2.7226, 136.8031],
["Way Kanan, Lampung", -4.5084, 104.5655],
["Wonogiri, Jawa Tengah", -7.8170, 110.9260],
["Wonosobo, Jawa Tengah", -7.3620, 109.9000],
["Wonosari (Gunungkidul), DI Yogyakarta", -7.9652, 110.6129],
["Waringin Timur (Kotawaringin Timur), Kalimantan Tengah", -2.0320, 112.9630],
["Waringin Barat (Kotawaringin Barat), Kalimantan Tengah", -2.6797, 111.6179],
["Wonomulyo (Polewali Mandar), Sulawesi Barat", -3.4329, 119.1407],
["Wamena (Jayawijaya), Papua", -4.0939, 138.9585],
["Waris (Keerom), Papua", -3.2833, 140.7833],
["Weda (Halmahera Tengah), Maluku Utara", 0.3167, 127.8667],
["Waigeo (Raja Ampat), Papua Barat Daya", -0.2170, 130.8160],
["Waisai (Raja Ampat), Papua Barat Daya", -0.4264, 130.8136],
["Wasior (Teluk Wondama), Papua Barat", -2.7200, 134.5500],
["Wamena, Papua Pegunungan", -4.1000, 138.9500],

["Yahukimo, Papua Pegunungan", -4.8650, 139.5333],
["Yakuhimo (Dekai), Papua Pegunungan", -4.8557, 139.4830],   // pusat pemerintahan Yahukimo â†’ Dekai
["Yalimo, Papua Pegunungan", -3.6333, 139.4667],
["Yapen Kepulauan, Papua", -1.8792, 136.2276],
["Yapen Selatan (Serui), Papua", -1.8677, 136.2359],
["Yogyakarta (Kota Yogyakarta), DI Yogyakarta", -7.7956, 110.3695]  
  // you can expand this list as needed
];

/* Config */
const API_ALADHAN = 'https://api.aladhan.com/v1/calendar'; // ?latitude=&longitude=&method=2&month=&year=
const DISPLAY_START = new Date(2026,1,18); // 2026-02-18
const DISPLAY_END   = new Date(2026,2,21,23,59,59,999); // 2026-03-21

/* State */
let state = {
  cityIndex: 0,
  data: [] // array of {date,hijri,imsak,fajr,...,dateRaw}
};

/* DOM */
const citySelect = document.getElementById('citySelect');
const searchInput = document.getElementById('search');
const tableWrap = document.getElementById('tableWrap');
const btnCSV = document.getElementById('btnCSV');
const btnPDF = document.getElementById('btnPDF');
const btnPrint = document.getElementById('btnPrint');
const themeToggle = document.getElementById('themeToggle');

/* Populate dropdown */
function populateCities(){
  citySelect.innerHTML = '';
  CITIES.forEach((c, idx) => {
    const opt = document.createElement('option');
    opt.value = idx;
    opt.textContent = c[0];
    citySelect.appendChild(opt);
  });
  // default Balikpapan
  const defaultIndex = CITIES.findIndex(c => c[0].toLowerCase() === 'balikpapan');
  citySelect.value = defaultIndex >= 0 ? defaultIndex : 0;
  state.cityIndex = Number(citySelect.value);
}

/* format display date like "18 Feb 2026" */
function formatDisp(dateStr){
  // dateStr comes like "18-02-2026" or "18/02/2026". Aladhan returns dd-mm-yyyy.
  if(!dateStr) return '-';
  const parts = dateStr.includes('-') ? dateStr.split('-') : dateStr.split('/');
  if(parts.length < 3) return dateStr;
  const [d,m,y] = parts;
  const months = ["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"];
  return `${String(d).padStart(2,'0')} ${months[Number(m)-1]} ${y}`;
}

/* parse date text to Date object (dd-mm-yyyy or dd/mm/yyyy) */
function parseDateObj(dateStr){
  if(!dateStr) return null;
  const sep = dateStr.includes('-') ? '-' : (dateStr.includes('/') ? '/' : null);
  if(!sep) return null;
  const [d,m,y] = dateStr.split(sep).map(Number);
  return new Date(y, m-1, d);
}

/* strip timezone suffix like " (WITA)" or " (UTC+7)" */
function stripTZ(s){ return String(s || '').replace(/\s*\([^)]+\)\s*/g, '').trim(); }

/* load calendar from Aladhan for given lat/lon for months Feb & Mar 2026 */
async function loadCalendar(lat, lon){
  tableWrap.innerHTML = `<div class="empty">Memuat jadwal untuk koordinat ${lat}, ${lon} â€¦</div>`;
  state.data = [];

  // months: 2 (Feb), 3 (Mar)
  const months = [2,3];
  try{
    const promises = months.map(m=>{
      const url = `${API_ALADHAN}?latitude=${lat}&longitude=${lon}&method=2&month=${m}&year=2026`;
      // no-cache param to reduce stale caching
      return fetch(url + '&_nocache=' + Date.now(), { cache: 'no-store' }).then(r => r.ok ? r.json() : null).catch(()=>null);
    });

    const results = await Promise.all(promises);

    for(const res of results){
      if(!res || !res.data) continue;
      for(const day of res.data){
        // Aladhan returns day.date.gregorian.date as "18-02-2026"
        const dateRaw = day.date.gregorian.date;
        const dObj = parseDateObj(dateRaw);
        if(!dObj) continue;
        // filter by display range
        if(dObj < DISPLAY_START || dObj > DISPLAY_END) continue;

        // timings object â€” take Imsak (if present), fallback compute from Fajr-10min
        const timings = day.timings || {};
        const imsak = stripTZ(timings.Imsak) || null;
        const fajr = stripTZ(timings.Fajr) || '';
        const imsakFinal = imsak && imsak !== '' ? imsak : computeFromFajr(fajr);

        state.data.push({
          dateRaw: dateRaw,
          date: formatDisp(dateRaw),
          hijri: `${String(day.date.hijri.day).padStart(2,'0')} ${day.date.hijri.month.en} ${day.date.hijri.year} H`,
          imsak: imsakFinal,
          fajr: fajr || '-',
          sunrise: stripTZ(timings.Sunrise) || '-',
          dhuhr: stripTZ(timings.Dhuhr) || '-',
          asr: stripTZ(timings.Asr) || '-',
          maghrib: stripTZ(timings.Maghrib) || '-',
          isha: stripTZ(timings.Isha) || '-'
        });
      }
    }

    // sort ascending
    state.data.sort((a,b) => parseDateObj(a.dateRaw) - parseDateObj(b.dateRaw));

    if(state.data.length === 0){
      tableWrap.innerHTML = `<div class="empty">Tidak ada data pada rentang 18 Feb â€” 21 Mar 2026 untuk kota ini.</div>`;
      return;
    }

    renderTable(state.data);

  }catch(err){
    console.error(err);
    tableWrap.innerHTML = `<div class="empty">Gagal memuat data. Coba refresh halaman.</div>`;
  }
}

/* compute imsak from fajr - 10 minutes (expects "hh:mm" or "hh:mm:ss") */
function computeFromFajr(fajr){
  if(!fajr) return '-';
  const hhmm = fajr.split(':').slice(0,2).map(Number);
  if(hhmm.length < 2 || Number.isNaN(hhmm[0])) return '-';
  const d = new Date(2026,1,18, hhmm[0], hhmm[1]);
  d.setMinutes(d.getMinutes() - 10);
  return `${String(d.getHours()).padStart(2,'0')}:${String(d.getMinutes()).padStart(2,'0')}`;
}

/* render table */
function renderTable(list){
  if(!list || !list.length){
    tableWrap.innerHTML = `<div class="empty">Tidak ada data.</div>`;
    return;
  }

  let html = `<table role="table" aria-label="Jadwal Imsakiyah"><thead><tr>
    <th>Tanggal</th><th>Hijri</th><th>Imsak</th><th>Subuh</th><th>Terbit</th><th>Dzuhur</th><th>Ashar</th><th>Maghrib</th><th>Isya</th>
  </tr></thead><tbody>`;

  for(const r of list){
    html += `<tr>
      <td>${escapeHtml(r.date)}</td>
      <td>${escapeHtml(r.hijri)}</td>
      <td>${escapeHtml(r.imsak)}</td>
      <td>${escapeHtml(r.fajr)}</td>
      <td>${escapeHtml(r.sunrise)}</td>
      <td>${escapeHtml(r.dhuhr)}</td>
      <td>${escapeHtml(r.asr)}</td>
      <td>${escapeHtml(r.maghrib)}</td>
      <td>${escapeHtml(r.isha)}</td>
    </tr>`;
  }

  html += `</tbody></table>`;
  tableWrap.innerHTML = html;
}

/* escape helper */
function escapeHtml(s){ return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

/* search */
searchInput.addEventListener('input', ()=> {
  const q = (searchInput.value || '').trim().toLowerCase();
  if(!q) return renderTable(state.data);
  const filtered = state.data.filter(r =>
    (r.date && r.date.toLowerCase().includes(q)) ||
    (r.hijri && r.hijri.toLowerCase().includes(q)) ||
    (r.dateRaw && r.dateRaw.toLowerCase().includes(q))
  );
  renderTable(filtered);
});

/* CSV export */
btnCSV.addEventListener('click', ()=>{
  if(!state.data.length){ alert('Data belum siap untuk diunduh.'); return; }
  const rows = [['Tanggal','Hijri','Imsak','Subuh','Terbit','Dzuhur','Ashar','Maghrib','Isya']];
  state.data.forEach(r => rows.push([r.date, r.hijri, r.imsak, r.fajr, r.sunrise, r.dhuhr, r.asr, r.maghrib, r.isha]));
  const csv = rows.map(r => r.map(c => `"${String(c).replace(/"/g,'""')}"`).join(',')).join('\n');
  const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url;
  const cityName = CITIES[state.cityIndex][0].replace(/\s+/g,'_');
  a.download = `imsakiyah_${cityName}_18Feb-21Mar-2026.csv`;
  document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
});

/* PDF export */
/*btnPDF.addEventListener('click', async ()=>{
  if(!state.data.length){ alert('Data belum siap untuk PDF.'); return; }
  try{
    const el = document.getElementById('card');
    // temporarily expand height for better capture if necessary
    const oldOverflow = el.style.overflow;
    el.style.overflow = 'visible';
    await new Promise(r => setTimeout(r,120));
    const canvas = await html2canvas(el, { scale: 2 });
    el.style.overflow = oldOverflow;
    const img = canvas.toDataURL('image/png');
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF('landscape', 'pt', 'a4');
    const pageW = doc.internal.pageSize.getWidth();
    const imgH = (canvas.height * pageW) / canvas.width;
    doc.addImage(img, 'PNG', 0, 0, pageW, imgH > doc.internal.pageSize.getHeight() ? doc.internal.pageSize.getHeight() : imgH);
    const cityName = CITIES[state.cityIndex][0].replace(/\s+/g,'_');
    doc.save(`imsakiyah_${cityName}_18Feb-21Mar-2026.pdf`);
  }catch(e){
    console.error(e);
    alert('Gagal membuat PDF. Coba gunakan Print â†’ Save as PDF.');
  }
});*/

/* Print */
btnPrint.addEventListener('click', ()=>{
  if(!state.data.length){ alert('Data belum siap untuk dicetak.'); return; }
  window.print();
});

/* Theme toggle */
themeToggle.addEventListener('click', ()=>{
  document.body.classList.toggle('dark');
  localStorage.setItem('imsak_theme', document.body.classList.contains('dark') ? 'dark' : 'light');
});
if(localStorage.getItem('imsak_theme') === 'dark') document.body.classList.add('dark');

/* on city change */
citySelect.addEventListener('change', async ()=>{
  state.cityIndex = Number(citySelect.value);
  const [name, lat, lon] = CITIES[state.cityIndex];
  await loadCalendar(lat, lon);
});

/* init */
async function init(){
  populateCities();
  // load default city
  state.cityIndex = Number(citySelect.value);
  const [nm, lat, lon] = CITIES[state.cityIndex];
  await loadCalendar(lat, lon);
}
init();

</script>
</body>
</html>
  
  <!-- ðŸŒ¿ Hidden Double-Point Unlock System + Fade Animation -->
<style>
  body {
    margin: 0;
    font-family: "Poppins", sans-serif;
    background: #f9fff9;
  }

  /* Area titik rahasia (tak terlihat) */
  .secret-spot {
    position: fixed;
    width: 60px;
    height: 60px;
    z-index: 9999;
  }

  #spot-left {
    bottom: 10px;
    left: 10px;
  }

  #spot-right {
    bottom: 10px;
    right: 10px;
  }

#shareSection {
  text-align: center;
  background: linear-gradient(180deg, #ffffff, #e8fff0);
  border-radius: 18px;
  width: 90%;
  max-width: 420px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.15);
  opacity: 0;
  transform: translateY(30px);
  pointer-events: none;
  transition: opacity 0.6s ease, transform 0.6s ease, max-height 0.6s ease, padding 0.6s ease, margin 0.6s ease;
  
  /* Tambahan penting */
  max-height: 0;
  overflow: hidden;
  padding: 0;         /* tidak memberi ruang */
  margin: 0 auto;     /* hilangkan gap full */
}

#shareSection.show {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
  margin: 15px auto;
  padding: 25px 0;    /* tampil kembali saat show */
  max-height: 500px;  /* cukup tinggi untuk konten */
}

  .share-container {
    display: flex;
    justify-content: center;
    gap: 12px;
    flex-wrap: wrap;
  }

  .share-btn {
    text-decoration: none;
    color: /*#333*/brown;
    font-size: 8px;
    font-weight: 800;
    text-align: center;
  }

  .share-btn img {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: block;
    margin: 0 auto 5px auto;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
  }

  .share-btn:hover img {
    transform: scale(1.2);
    box-shadow: 0 0 8px rgba(0,0,0,0.3);
  }

  /* Notifikasi */
  .info-toast {
    position: fixed;
    bottom: 80px;
    left: 50%;
    transform: translateX(-50%);
    background: #4caf50;
    color: white;
    padding: 10px 18px;
    border-radius: 10px;
    font-size: 14px;
    font-weight: 500;
    opacity: 0;
    transition: opacity 0.4s ease;
  }

  .info-toast.show {
    opacity: 1;
  }
</style>

<!-- ðŸ”’ Area klik rahasia -->
<div id="spot-left" class="secret-spot"></div>
<div id="spot-right" class="secret-spot"></div>

<!-- ðŸŒ Share Link Section -->
<div id="shareSection">
  <h4 style="margin-bottom:15px;font-size: 12px;color: grey;">Bagikan ke:</h4>
  <div class="share-container">
    <a class="share-btn" href="https://www.facebook.com/sharer/sharer.php?u=https://wisayadi.github.io/parameter-dashboard/soc_Ims.html" target="_blank">
      <img src="https://cdn-icons-png.flaticon.com/512/124/124010.png" alt="Facebook">Facebook
    </a>
    <a class="share-btn" href="https://twitter.com/intent/tweet?url=https://wisayadi.github.io/parameter-dashboard/soc_Ims.html" target="_blank">
      <img src="https://cdn-icons-png.flaticon.com/512/733/733579.png" alt="Twitter">Twitter
    </a>
    <a class="share-btn" href="https://wa.me/?text=Jadwal%20Imsyakiyah%20Ramadhan%20https://wisayadi.github.io/parameter-dashboard/soc_Ims.html" target="_blank">
      <img src="https://cdn-icons-png.flaticon.com/512/733/733585.png" alt="WhatsApp">WhatsApp
    </a>
    <a class="share-btn" href="https://t.me/share/url?url=https://wisayadi.github.io/parameter-dashboard/soc_Ims.html&text=Jadwal%20Imsyakiyah%201447H" target="_blank">
      <img src="https://cdn-icons-png.flaticon.com/512/2111/2111646.png" alt="Telegram">Telegram
    </a>
  </div>
</div>

<!-- ðŸ”” Notifikasi -->
<div id="toast" class="info-toast">ðŸ”“ Share link dibuka</div>

<script>

  let shareVisible = false;

  const shareSection = document.getElementById("shareSection");
  const toast = document.getElementById("toast");

  // ðŸ”¥ Fungsi baru untuk tombol navigasi tengah
  function toggleShare() {
    shareVisible = !shareVisible;
    shareSection.classList.toggle("show", shareVisible);
    showToast(shareVisible ? "ðŸ”“ Share link dibuka" : "ðŸ”’ Share link ditutup");
  }

  function showToast(message) {
    toast.textContent = message;
    toast.classList.add("show");
    setTimeout(() => toast.classList.remove("show"), 2000);
  }
</script>
 
<style>
.card.muted {
  position: relative;
  text-align: center;
  font-size: 11px;
  color: purple;
  background: linear-gradient(90deg, #4caf50, #2196f3, #ff9800, #f44336);
  border-radius: 8px;
  margin-top: 3px;
  margin-left: 15px;
  margin-bottom: 65px;
  width: 258px;
  padding: 8px 35px;
}

.muted-text {
  font-family: 'Poppins', sans-serif;
  font-weight: 500;
  letter-spacing: 0.5px;
}

.dot-gradient {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-weight: bold;
  font-size: 18px;
  background: linear-gradient(90deg, #fff, #ffd, #fff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: glow 2s infinite ease-in-out;
}
.left-dot { left: 12px; }
.right-dot { right: 12px; }

@keyframes glow {
  0%, 100% { opacity: 0.4; text-shadow: 0 0 6px rgba(255,255,255,0.3); }
  50% { opacity: 1; text-shadow: 0 0 10px rgba(255,255,255,0.6); }
}

    /* ====================== iOS NETWORK POPUP ======================= */
.net-popup-ios {
  position: fixed;
  top: -100px;
  left: 50%;
  transform: translateX(-50%) scale(0.95);
  padding: 14px 26px;
  font-size: 15px;
  font-weight: 600;
  border-radius: 22px;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  background: rgba(255, 255, 255, 0.23);
  color: #fff;
  box-shadow: 0px 6px 18px rgba(0,0,0,0.25);
  z-index: 999999;
  display: none;
  transition: all 0.6s cubic-bezier(.22,1.25,.32,1);
  letter-spacing: 0.4px;
  text-align: center;
}

.net-popup-ios.show {
  top: 20px;
  transform: translateX(-50%) scale(1);
}

.net-popup-ios.success {
  background: rgba(26, 188, 156, 0.55);
}

.net-popup-ios.error {
  background: rgba(231, 76, 60, 0.55);
}

/* Icon WiFi animasi */
.wifi-icon {
  display: inline-block;
  margin-right: 6px;
  animation: blink 1s infinite alternate ease-in-out;
}
@keyframes blink {
  0% { opacity: .3; transform: scale(0.9); }
  100% { opacity: 1; transform: scale(1); }
}

/* ===================== PING INDICATOR ===================== */
.ping-indicator {
  position: fixed;
  top: 10px;
  right: 10px;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 600;
  color: /*#fff*/blue;
  border-radius: 14px;
  background: rgba(0,0,0,0.4);
  backdrop-filter: blur(10px);
  z-index: 999999;
}
  .ping-indicator{
  transform: scale(0.7);
  transform-origin: top right;
}
 .bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: space-around;
  padding: 10px 0 14px;
  background: /*rgba(255, 255, 255, 0.55)*/rgba(0,0,0,0.4);
  backdrop-filter: blur(1px);
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  box-shadow: 0 -6px 20px rgba(0, 0, 0, 0.15);
  z-index: 9999;
}

.nav-card {
  /*display: flex;
  flex-direction: column;
  align-items: center;
  width: 90px;
  padding: 6px 0;*/
  border-radius: 12px;
  border: none;
  /*background: rgba(255, 255, 255, 0.7);
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  cursor: pointer;
  transition: 0.25s ease;
  margin-bottom: 2px;*/
}

.nav-card .nav-icon {
  font-size: 20px;
  color: blue;
  margin-bottom: 3px;
}

.nav-card small {
  font-size: 9px;
  font-weight: 700;
  color: /*#333*/brown;
}

.nav-card:active {
  transform: scale(0.92);
  background: /*#e8f4ff*/ gold;
  box-shadow: 0 0 10px #77c4ff;
}   
</style>

<!-- =================== CARD SUMBER DATA =================== -->
<div class="card muted">
  <span class="dot-gradient left-dot">â€¢</span>
  <span class="muted-text">Sumber data: Aladhan API</span>
  <span class="dot-gradient right-dot">â€¢</span>
</div>

<!-- Sound -->
<audio id="beepClick">
  <source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" type="audio/ogg">
</audio>

<div class="bottom-nav">
  
  <button class="nav-card" onclick="goDashboard()">
    <span class="material-icons nav-icon">home</span>
    <small>Beranda</small>
  </button>

  <button class="nav-card" onclick="playBeep(); toggleShare()">
  <span class="material-icons nav-icon"style="color: red;">share</span>
  <small>Share</small>
</button>
  
 <button class="nav-card" onclick="reloadWithBeep()">   
  <span class="material-icons nav-icon"style="color: green;">restart_alt</span>
    <small>Reload</small>
  </button>  
</div>

<!-- =================== POPUP NETWORK =================== -->
<div id="netPopup" class="net-popup-ios"></div>
<!-- ============ PING INDICATOR ============ -->
<div id="pingBox" class="ping-indicator">ðŸ”„ Ping...</div>
    
<!-- Suara Notifikasi -->
<audio id="beepDisconnect" src="beep-off.mp3" preload="auto"></audio>
<audio id="beepConnect" src="beep-on.mp3" preload="auto"></audio>

<script>  
 history.scrollRestoration = "manual";   // â›” Matikan restore posisi scroll

history.pushState(null, null, location.href);
window.onpopstate = function () {
  if (!window.ignoreBack) {
    history.pushState(null, null, location.href);

    // Paksa kembali ke top
    window.scrollTo(0, 0);

    // Kunci scroll sementara
    document.body.style.overflow = "hidden";
    setTimeout(() => {
      document.body.style.overflow = "auto";
    }, 500);
  }
};

function goDashboard() {
  const beepClick = document.getElementById("beepClick");
  beepClick.play();
  window.ignoreBack = true;
  setTimeout(() => {
    window.location.href = "https://wisayadi.github.io/parameter-dashboard/cardipa.html";
  }, 200);
}
       
window.addEventListener("load", () => {

  const popup = document.getElementById("netPopup");
  const pingBox = document.getElementById("pingBox");

  const beepDC = document.getElementById("beepDisconnect");
  const beepCN = document.getElementById("beepConnect");

  function showPopup(msg, style) {
    popup.innerHTML = `<span class="wifi-icon">ðŸ“¶</span> ${msg}`;
    popup.className = `net-popup-ios ${style}`;
    popup.style.display = "block";

    setTimeout(() => popup.classList.add("show"), 20);

    setTimeout(() => {
      popup.classList.remove("show");
      setTimeout(() => popup.style.display = "none", 600);
    }, 10000);
  }

  window.addEventListener("offline", () => {
    showPopup("Jaringan Terputus", "error");
    beepDC.play().catch(()=>{});
    if (navigator.vibrate) navigator.vibrate([180,80,120]);
  });

  window.addEventListener("online", () => {
    showPopup("Internet Tersambung", "success");
    beepCN.play().catch(()=>{});
    if (navigator.vibrate) navigator.vibrate(120);
  });

  // ====================== PING CHECKER ======================
  async function pingTest() {
    const start = performance.now();
    try {
      await fetch("https://www.google.com", {mode: "no-cors"});
      const delay = Math.round(performance.now() - start);
      pingBox.innerText = `ðŸ“¶ ${delay} ms`;

      if(delay < 80) pingBox.style.background = "rgba(76,175,80,0.55)";
      else if(delay < 150) pingBox.style.background = "rgba(255,193,7,0.55)";
      else pingBox.style.background = "rgba(244,67,54,0.55)";

    } catch {
      pingBox.innerText = "âŒ Offline";
      pingBox.style.background = "rgba(244,67,54,0.55)";
    }
  }
  setInterval(pingTest, 2500);
  pingTest();

});
  /*function reloadWithBeep() {
  const beep = document.getElementById("beepClick");
  beep.currentTime = 0;     // restart suara dari awal
  beep.play();

  setTimeout(() => {
    location.reload();
  }, 250); // jeda sedikit agar beep terdengar dulu
}*/
function reloadWithBeep() {
  const beep = document.getElementById("beepClick");
  if (beep) {
    beep.currentTime = 0;
    beep.play().catch(()=>{}); // cegah error berhenti script
  }

  setTimeout(() => {
    location.reload();
  }, 250);
}

function playBeep() {
  const beep = document.getElementById("beepClick");
  if (beep) {
    beep.currentTime = 0;
    beep.play().catch(()=>{}); // cegah error berhenti script
  }
  setTimeout(() => {
    location.share();
  }, 250);
}
</script>
